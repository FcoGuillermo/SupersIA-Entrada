<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Supers IA â€“ LEGADO</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link href="https://fonts.googleapis.com/css2?family=Comic+Neue:wght@400;700&display=swap" rel="stylesheet">
<style>
:root{
  --blue:#196198;
  --red:#f42547;
  --white:#ffffff;
  --black:#000000;
}
*{
  box-sizing:border-box;
  font-family:"Comic Neue","Comic Sans MS",cursive;
}
body{
  margin:0;
  background:var(--blue);
  min-height:100vh;
  overflow:hidden;
  color:white;
}
.side-buttons{
  position:fixed;
  right:15px;
  top:50%;
  transform:translateY(-50%);
  display:flex;
  flex-direction:column;
  gap:12px;
  z-index:10;
}
.side-buttons button{
  background:var(--red);
  color:white;
  border:none;
  padding:0;
  font-size:16px;
  font-weight:bold;
  border-radius:15px;
  cursor:pointer;
  box-shadow:4px 4px 0 var(--black);
  width: 120px;
  height: 120px;
  position: relative;
  overflow: hidden;
}
.side-buttons button img{
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 90%;
  height: 90%;
  object-fit: contain;
  max-width: 100%;
  max-height: 100%;
}
#landing{
  position:absolute;
  inset:0;
  display:flex;
  flex-direction:column;
  justify-content:center;
  align-items:center;
  color:white;
  padding: 20px;
}
#logo{
  max-width: 320px;
  width: 85%;
  height: auto;
  margin-bottom: 30px;
  /* Sombra eliminada aquÃ­ */
}
.card{
  background:white;
  color:black;
  padding:30px;
  border-radius:18px;
  width: 320px;
  text-align:center;
  box-shadow:6px 6px 0 var(--black);
}
.card button{
  margin-top:20px;
  width:100%;
  padding:14px;
  background:var(--red);
  color:white;
  border:none;
  font-size:18px;
  font-weight:bold;
  border-radius:12px;
  cursor:pointer;
  box-shadow:4px 4px 0 var(--black);
}
#app{
  position:absolute;
  inset:0;
  display:none;
  padding:30px;
  overflow-y: auto;
}
.app-container{
  max-width:1000px;
  margin:auto;
  height:90vh;
  background:white;
  border-radius:18px;
  box-shadow:8px 8px 0 var(--black);
  display:flex;
  flex-direction:column;
}
.app-header{
  background:var(--red);
  color:white;
  padding:16px;
  font-size:24px;
  font-weight:bold;
}
.chat{
  flex:1;
  width:100%;
  background:#f5f5f5;
  padding:15px;
  overflow-y:auto;
  border:none;
  color: #000;
}
.input-area{
  display:flex;
  gap:10px;
  padding:15px;
  border-top:3px solid var(--black);
}
.input-area input{
  flex:1;
  padding:12px;
  border:2px solid var(--black);
  border-radius:10px;
  font-size:16px;
}
.input-area button{
  background:var(--red);
  color:white;
  border:none;
  padding:12px 20px;
  font-size:16px;
  font-weight:bold;
  border-radius:10px;
  cursor:pointer;
  box-shadow:3px 3px 0 var(--black);
  white-space: nowrap;
}

/* ===== RESPONSIVE (BOTONES EN EL FONDO) ===== */
@media (max-width: 768px) {
  .side-buttons {
    flex-direction: row;
    justify-content: center;
    width: calc(100% - 30px);
    bottom: 15px;
    top: auto;
    right: auto;
    left: 15px;
    transform: none;
    gap: 10px;
  }
  
  .side-buttons button {
    width: 90px;
    height: 90px;
  }
  
  #logo {
    max-width: 250px;
    width: 90%;
  }
  
  .card {
    width: 90%;
    max-width: 300px;
    padding: 25px;
  }
  
  .card button {
    padding: 12px;
    font-size: 16px;
  }
  
  #app {
    padding: 15px;
  }
  
  .app-container {
    height: calc(100vh - 30px);
    border-radius: 12px;
  }
  
  .app-header {
    padding: 12px;
    font-size: 20px;
  }
  
  .input-area {
    padding: 10px;
    flex-direction: column;
  }
  
  .input-area input {
    padding: 10px;
    font-size: 14px;
  }
  
  .input-area button {
    padding: 12px;
    font-size: 16px;
    width: 100%;
  }
}

@media (max-width: 480px) {
  .side-buttons {
    flex-direction: row;
    justify-content: center;
    width: calc(100% - 20px);
    bottom: 10px;
    top: auto;
    right: auto;
    left: 10px;
    transform: none;
    gap: 8px;
  }
  
  .side-buttons button {
    width: 75px;
    height: 75px;
  }
  
  #logo {
    max-width: 200px;
    width: 95%;
  }
  
  .card {
    width: 95%;
    padding: 20px 15px;
  }
  
  .card p {
    font-size: 14px;
  }
  
  .card button {
    padding: 10px;
    font-size: 14px;
  }
  
  #app {
    padding: 10px;
  }
  
  .app-container {
    height: calc(100vh - 160px);
    border-radius: 8px;
  }
  
  .app-header {
    padding: 10px;
    font-size: 18px;
  }
  
  .chat {
    padding: 10px;
    font-size: 14px;
    color: #000;
  }
  
  .input-area {
    padding: 8px;
  }
  
  .input-area input {
    padding: 8px;
    font-size: 14px;
  }
  
  .input-area button {
    padding: 10px;
    font-size: 14px;
  }
}
</style>
</head>
<body>

<div class="side-buttons">
  <button onclick="window.open('https://kdp.amazon.com/es_ES/bookshelf', '_blank')">
    <img src="https://raw.githubusercontent.com/FcoGuillermo/SupersIA-Entrada/main/img/boton-libro.jpg" alt="Libro">
  </button>
  <button onclick="window.location.href='https://supersia-legado.vercel.app/'">
    <img src="https://raw.githubusercontent.com/FcoGuillermo/SupersIA-Entrada/main/img/boton-miniaturas.jpg" alt="Figuras">
  </button>
  <button onclick="window.location.href='https://fcoguillermo.github.io/politica-privacidad/'">
    <img src="https://raw.githubusercontent.com/FcoGuillermo/SupersIA-Entrada/main/img/boton-privacidad.jpg" alt="Privacidad">
  </button>
  <button onclick="window.open('https://www.youtube.com/@ImprimeyPinta', '_blank')">
    <img src="https://raw.githubusercontent.com/FcoGuillermo/SupersIA-Entrada/main/img/boton-youtube.jpg" alt="YouTube">
  </button>
  <!-- BotÃ³n Juegos - ahora se abre en la misma pestaÃ±a -->
  <button onclick="window.location.href='https://fcoguillermo.github.io/JuegosHTML_SupersIA/'">
    <img src="https://raw.githubusercontent.com/FcoGuillermo/SupersIA-Entrada/main/img/Juegos.jpg" alt="Juegos">
  </button>
</div>

<div id="landing">
  <img src="https://raw.githubusercontent.com/FcoGuillermo/SupersIA-Entrada/main/img/Logo.png" alt="Logo SupersIA" id="logo">
  <div class="card">
    <p>Bienvenido a la experiencia</p>
    <button onclick="enterApp()">Entrar</button>
  </div>
</div>

<div id="app">
  <div class="app-container">
    <div class="app-header">ðŸŒŒ Legado: Mundo de HÃ©roes</div>
    <div class="chat" id="chatBox"></div>
    <div class="input-area">
      <input type="text" id="userInput" placeholder="Escribe tu mensaje..." onkeypress="if(event.key==='Enter') sendMessage()" />
      <button onclick="sendMessage()">Enviar</button>
    </div>
  </div>
</div>

<script>
function enterApp() {
  document.getElementById("landing").style.display = "none";
  document.getElementById("app").style.display = "block";
  addMessage("Â¿CuÃ¡l es el nombre de tu personaje?");
}

async function sendMessage() {
  const input = document.getElementById("userInput");
  const message = input.value.trim();
  if (!message) return;

  addMessage(message, true);
  input.value = "";

  try {
    const response = await fetch('/api/chat', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ message })
    });

    const data = await response.json();
    if (data.reply) {
      addMessage(data.reply);
    } else {
      addMessage("La IA no respondiÃ³.");
    }
  } catch (error) {
    addMessage("Error al conectar con la IA.");
  }
}

function addMessage(text, isUser = false) {
  const chatBox = document.getElementById("chatBox");
  const msg = document.createElement("div");
  msg.style.padding = "12px 16px";
  msg.style.margin = "10px";
  msg.style.borderRadius = "12px";
  msg.style.maxWidth = "80%";
  msg.style.wordBreak = "break-word";
  msg.style.lineHeight = "1.4";
  msg.style.color = "#000";
  if (isUser) {
    msg.style.backgroundColor = "#ffecec";
    msg.style.marginLeft = "auto";
    msg.style.textAlign = "right";
    msg.style.border = "2px solid var(--red)";
  } else {
    msg.style.backgroundColor = "#e3f2fd";
    msg.style.marginRight = "auto";
    msg.style.border = "2px solid var(--blue)";
  }
  msg.innerHTML = text.replace(/\n/g, "<br>");
  chatBox.appendChild(msg);
  chatBox.scrollTop = chatBox.scrollHeight;
}
</script>

</body>
</html>
</body>
</html>
